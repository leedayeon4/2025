import streamlit as st
import pandas as pd
import datetime

st.set_page_config(page_title="í•™ìŠµ ê³„íší‘œ ì›¹ì•±", layout="wide")
st.title("ğŸ“š ë§ì¶¤í˜• í•™ìŠµ ê³„íší‘œ ìƒì„±ê¸°")

# -----------------------------
# 1ï¸âƒ£ í•™ìŠµ ê¸°ê°„, ê¸°ê´€, ëª©í‘œ ì„ íƒ (ë‹¤ì–‘í™”)
# -----------------------------
ê¸°ê°„ = st.selectbox(
    "í•™ìŠµ ê¸°ê°„ ì„ íƒ",
    ["1ì£¼", "2ì£¼", "3ì£¼", "4ì£¼", "5ì£¼", "6ì£¼", "7ì£¼", "8ì£¼"]
)

í•™ìŠµê¸°ê´€ = st.selectbox(
    "í•™ìŠµ ê¸°ê´€ ì„ íƒ",
    ["í•™êµ", "í•™ì›", "ì˜¨ë¼ì¸ ê°•ì˜", "ììœ¨ í•™ìŠµ", "ë…ì„œì‹¤", "ìŠ¤í„°ë”” ê·¸ë£¹", "ê°œì¸ ê³¼ì™¸", "e-learning í”Œë«í¼"]
)

ëª©í‘œ = st.selectbox(
    "í•™ìŠµ ëª©í‘œ ì„ íƒ",
    ["ê°œë… ì™„ì„±", "ë¬¸ì œí’€ì´ ì§‘ì¤‘", "ë³µìŠµ", "ì‹œí—˜ ëŒ€ë¹„", "ìê¸°ê³„ë°œ", "í¬íŠ¸í´ë¦¬ì˜¤ ì¤€ë¹„", "ì–´íœ˜/ì•”ê¸°", "í”„ë¡œì íŠ¸ í•™ìŠµ"]
)

ê³„íš = st.text_area("êµ¬ì²´ì ì¸ í•™ìŠµ ê³„íš ì‘ì„± (ì˜ˆ: ë§¤ì¼ 2ì‹œê°„ í•™ìŠµ)", "")

ê³¼ëª© = st.multiselect(
    "í•™ìŠµ ê³¼ëª© ì„ íƒ",
    ["êµ­ì–´", "ìˆ˜í•™", "ì˜ì–´", "ê³¼í•™", "ì‚¬íšŒ", "ì—­ì‚¬", "ì˜ˆì²´ëŠ¥", "ììœ¨í•™ìŠµ", "ì½”ë”©", "ë…ì„œ", "ê¸°íƒ€"]
)

# -----------------------------
# 2ï¸âƒ£ ê²°ê³¼ ì´ë¯¸ì§€ ì—…ë¡œë“œ
# -----------------------------
photo = st.file_uploader("ğŸ“¸ ê²°ê³¼ì— ë„£ì„ ì´ë¯¸ì§€ ì„ íƒ (ì„ íƒ)", type=["jpg", "jpeg", "png"])

# -----------------------------
# 3ï¸âƒ£ í•™ìŠµ ê³„íší‘œ ìƒì„±
# -----------------------------
if st.button("âœ… í•™ìŠµ ê³„íší‘œ ìƒì„±í•˜ê¸°"):
    st.subheader("ğŸ“Œ ë‚˜ë§Œì˜ í•™ìŠµ ê³„íší‘œ")
    st.write("ğŸ“… ì„ íƒí•œ ê¸°ê°„:", ê¸°ê°„)
    st.write("ğŸ« í•™ìŠµ ê¸°ê´€:", í•™ìŠµê¸°ê´€)
    st.write("ğŸ¯ í•™ìŠµ ëª©í‘œ:", ëª©í‘œ)
    st.write("ğŸ“ ê³„íš:", ê³„íš)
    st.write("ğŸ“š í•™ìŠµ ê³¼ëª©:", ê³¼ëª©)

    # ê²°ê³¼ ì´ë¯¸ì§€ í‘œì‹œ
    if photo:
        st.image(photo, caption="ì—´ê³µ ëª¨ë“œ ON!", use_column_width=True)
    else:
        st.info("ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ë©´ ê³„íší‘œ ì•„ë˜ì— í‘œì‹œë©ë‹ˆë‹¤.")

# -----------------------------
# 4ï¸âƒ£ ê³µë¶€ íƒ€ì´ë¨¸ (Streamlit-friendly)
# -----------------------------
st.subheader("â±ï¸ ê³µë¶€ íƒ€ì´ë¨¸")
minutes = st.number_input("íƒ€ì´ë¨¸ ì„¤ì • (ë¶„ ë‹¨ìœ„)", min_value=1, max_value=180, value=25, step=1)
start_timer = st.button("â–¶ï¸ íƒ€ì´ë¨¸ ì‹œì‘")

# íƒ€ì´ë¨¸ í‘œì‹œìš© placeholder
timer_placeholder = st.empty()

if start_timer:
    end_time = datetime.datetime.now() + datetime.timedelta(minutes=minutes)
    while True:
        remaining = end_time - datetime.datetime.now()
        if remaining.total_seconds() <= 0:
            timer_placeholder.markdown("### âœ… íƒ€ì´ë¨¸ ì¢…ë£Œ! ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤ ğŸ‰")
            break
        else:
            mins, secs = divmod(int(remaining.total_seconds()), 60)
            timer_placeholder.markdown(f"### â³ ë‚¨ì€ ì‹œê°„: {mins:02d}:{secs:02d}")


 
